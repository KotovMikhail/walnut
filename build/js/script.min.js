(()=>{window.menuWrap=document.querySelector(".header__menu-wrap");const e=document.body,o=document.querySelector(".header__overlay");window.btnBurger=document.querySelector(".btn--burger");const n=document.querySelector(".btn--menu-close");window.headerTop=document.querySelector(".header__top");const d=()=>{e.classList.add("body--menu-opened"),window.menuWrap.classList.add("header__menu-wrap--opened"),o.classList.add("header__overlay--show"),n.addEventListener("click",s),document.addEventListener("keydown",t)},s=()=>{window.menuClosed(),document.removeEventListener("keydown",window.onEscModalFormClose)},t=e=>{if(27===e.keyCode){if(window.modalSuccess.classList.contains("modal--show"))return void window.onbtnSuccessClose();!window.modalForm.classList.contains("modal--show")&&window.menuWrap.classList.contains("header__menu-wrap--opened")&&window.menuClosed(),window.modalForm.classList.contains("modal--show")&&window.menuWrap.classList.contains("header__menu-wrap--opened")&&(window.modalForm.classList.remove("modal--show"),document.removeEventListener("keydown",window.onEscModalFormClose))}};window.menuClosed=()=>{e.classList.remove("body--menu-opened"),window.menuWrap.classList.remove("header__menu-wrap--opened"),o.classList.remove("header__overlay--show"),n.removeEventListener("click",s),document.removeEventListener("keydown",t)};let a=window.matchMedia("screen and (min-width: 1023px)");const r=n=>{n.matches&&o.classList.contains("header__overlay--show")&&(o.classList.remove("header__overlay--show"),e.classList.remove("body--menu-opened")),n.matches&&window.menuWrap.classList.contains("header__menu-wrap--opened")&&window.menuWrap.classList.remove("header__menu-wrap--opened"),n.matches&&o.classList.contains("header__overlay--show")&&(window.headerTop.style.display="none")};a.addListener(r),r(a),window.btnBurger.addEventListener("click",()=>{d()})})(),(()=>{window.headerContent=document.querySelector(".header__content");const e=document.querySelector(".header");document.addEventListener("scroll",function(){const o=getComputedStyle(window.btnBurger).display;pageYOffset>10?(window.headerContent.classList.add("header-sticky"),"none"===o&&(window.headerTop.style.display="none",e.style.paddingTop="208px"),"block"===o&&(e.style.paddingTop="83px"),"block"===o&&(window.headerTop.style.display="flex")):(e.style.paddingTop="0",window.headerTop.style.display="flex",window.headerContent.classList.remove("header-sticky"))})})();let phone1=document.getElementById("phone"),phone2=document.getElementById("phone2"),im=new Inputmask("+7 ( 999 ) 999 - 99 - 99");im.mask(phone1);let im2=new Inputmask("+7 ( 999 ) 999 - 99 - 99");im2.mask(phone2),(()=>{window.modalForm=document.querySelector(".modal--form"),window.modalSuccess=document.querySelector(".modal--success");const e=document.querySelector(".header__callback"),o=window.modalForm.querySelector(".btn--form-close");window.modalFormClose=()=>{window.modalForm.classList.remove("modal--show")};const n=()=>{window.modalFormClose(),document.removeEventListener("keydown",window.onEscModalFormClose)};window.onEscModalFormClose=e=>{window.modalForm&&27===e.keyCode&&(window.modalForm.classList.remove("modal--show"),document.removeEventListener("keydown",window.onEscModalFormClose))},e.addEventListener("click",function(){window.modalForm.classList.add("modal--show");let e=window.modalForm.querySelector(".modal__form");window.formValidate(e),o.addEventListener("click",n),document.addEventListener("keydown",window.onEscModalFormClose)})})(),(()=>{const e=window.modalSuccess,o=document.querySelector(".btn--success-close");window.onbtnSuccessClose=()=>{e.classList.remove("modal--show")},window.modalSuccessShow=()=>{e.classList.add("modal--show"),o.addEventListener("click",window.onbtnSuccessClose),window.modalForm.classList.contains("modal--show")&&(window.modalFormClose(),document.removeEventListener("keydown",window.onEscModalFormClose))},window.menuWrap.classList.contains("header__menu-wrap--opened")||(window.form=document.querySelector(".header__form")),window.formValidate=e=>{const o=()=>{window.modalSuccessShow()};e.addEventListener("invalid",o=>{o.preventDefault(),o.target.classList.add("modal--error"),e.querySelectorAll(".form :invalid")[0].focus()},!0),e.addEventListener("change",function(e){let o=e.target;o.validity.valid&&o.classList.remove("modal--error")},!0),e.addEventListener("submit",e=>{e.preventDefault(),o()})},window.formValidate(window.form)})();